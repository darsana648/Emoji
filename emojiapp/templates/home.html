{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emoji Mood Guesser</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&family=Comfortaa:wght@300..700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Michroma&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
  
 <link rel="stylesheet" href="{% static 'css/style.css' %}">

</head>
<body class="bg-gradient-to-r from-pink-200 via-yellow-200 to-purple-300 min-h-screen flex items-center justify-center">

  <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-3xl">
    <h1 class="text-3xl font-bold text-gray-800 text-center mb-6 flex items-center justify-center gap-3 uppercase">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><path fill="currentColor" fill-rule="evenodd" d="M9.551 31.773C4.436 27.95 1.498 21.79 1.498 15.3c0-3.914.295-7.236.53-9.257c.19-1.647 1.228-3.156 3.025-3.553c2.118-.469 6.114-.99 13.445-.99s11.327.521 13.445.99c1.797.397 2.834 1.906 3.025 3.553c.182 1.564.4 3.907.489 6.7c4.324 1.33 6.913 2.432 8.454 3.233c2.09 1.086 2.82 3.28 2.53 5.248c-.3 2.04-.882 5.364-1.907 9.192c-2.048 7.642-8.02 13.784-15.868 15.485c-2.361.512-5.02.866-7.006.334s-4.112-2.168-5.9-3.792c-3.197-2.901-5.282-6.643-6.209-10.67m7.312-18.73c-.15.109-.317.306-.44.615a79 79 0 0 0-2.799 8.476c-1.691 6.311.074 13.035 4.824 17.347c1.784 1.62 3.283 2.632 4.247 2.89s2.77.132 5.124-.379c6.27-1.36 11.16-6.3 12.851-12.611a79 79 0 0 0 1.814-8.74c.049-.329.001-.584-.074-.753a.72.72 0 0 0-.344-.363c-1.66-.863-5.157-2.333-12.124-4.2s-10.73-2.342-12.599-2.424a.72.72 0 0 0-.48.142m17.322 12.076c-.9-.52-1.741-.445-2.223-.077a2 2 0 0 1-2.428-3.179c2.13-1.627 4.798-1.278 6.65-.208s3.49 3.206 3.146 5.864a2 2 0 0 1-3.967-.514c.078-.601-.279-1.367-1.178-1.886m-7.157-3.928c-1.031-2.474-3.517-3.506-5.656-3.506s-4.625 1.032-5.656 3.506a2 2 0 0 0 3.693 1.538c.233-.56.924-1.044 1.963-1.044s1.73.485 1.963 1.044a2 2 0 0 0 3.693-1.538m-8.538 6.763a2 2 0 0 1 2.27 1.688c.19 1.297.77 2.762 1.564 3.958c.836 1.258 1.67 1.87 2.183 2.008c.514.138 1.543.024 2.895-.647c1.286-.639 2.52-1.618 3.334-2.646a2 2 0 0 1 3.136 2.483c-1.214 1.534-2.93 2.87-4.69 3.745c-1.695.841-3.808 1.439-5.71.929s-3.433-2.084-4.48-3.66c-1.088-1.637-1.905-3.653-2.19-5.588a2 2 0 0 1 1.688-2.27" clip-rule="evenodd"/></svg>
      Emoji Guesser
    </h1>

    <form id="moodForm" method="POST" class="flex flex-col gap-4">
      {% csrf_token %}
      <input name="sentence" type="text"  placeholder="Type a sentence (e.g. 'I miss you so much')" required
             class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-pink-300 text-lg"
             value="{{ result.sentence|default:'' }}">
      <button type="submit" class="mt-1 w-full bg-pink-500 text-white py-3 rounded-lg font-semibold hover:bg-pink-600 transition">
        Analyze
      </button>
    </form>

    {% if result %}
      <div class="mt-6 fadeInUp text-center">
        <p class="text-sm text-gray-500 mb-2 italic">“{{ result.sentence }}”</p>

        <div class="mt-4 bg-gray-50 p-4 rounded-xl shadow-inner">
          <p class="text-sm text-gray-500 mb-2 font-semibold">Top Emotions</p>

          <div class="flex flex-col gap-3 items-center">
            {% for item in result.top %}
              <div class="w-full flex items-center justify-between px-3 py-2 bg-white rounded-lg shadow-sm">
                <div class="flex items-center gap-3">
                  <div class="text-3xl">{{ item.emoji }}</div>
                  <div class="text-left">
                    <div class="text-sm font-medium text-gray-700">{{ item.label|capfirst }}</div>
                    <div class="text-xs text-gray-400">Confidence: {{ item.score|floatformat:2 }}</div>
                  </div>
                </div>
                <div class="text-sm text-gray-500">{{ item.percentage }}%</div>
              </div>
            {% endfor %}
          </div>
        </div>

        <div class="mt-4 text-center">
          <a href="{% url 'home' %}" class="inline-block mt-2 text-sm text-pink-600 hover:underline">Try another</a>
        </div>
      </div>
    {% endif %}
  </div>

  <script src="{% static 'js/script.js' %}"></script>
</body>
</html>
